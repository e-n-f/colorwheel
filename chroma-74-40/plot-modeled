#!/usr/bin/perl

$pi = 4 * atan2(1, 1);

@ang = (0, $pi * 1/3, $pi * 2/3, $pi * 3/3, $pi * 4/3, $pi * 5/3);

$sc = .3;

@d = ( "x", "x", "x", "x", "x", "x" );

for ($a = -100; $a < 100; $a += 20) {
	for ($b = -100; $b < 100; $b += 13) {

		$d[0] = 0.660037 * exp(log(abs($b - 1.0426)) * 0.811931) + $a * -0.0421287 + 23.3819;
		$d[1] = 0.534755 * exp(log(abs($b - -2.82523)) * 0.73873) + $a * -0.0219674 + 8.17549;
		$d[2] = 2.93831  * exp(log(abs($b - -2.0088)) * 0.381289) + $a * 0.00633544 + 6.01869;
		$d[3] = 2.00495  * exp(log(abs($b - -9.75363)) *  0.54712) + $a * 0.204122 + 22.5926;
		$d[4] = 0.087992 * exp(log(abs($b - -7.39862)) * 1.22203) + $a * 0.0221225 + 8.77714;
		$d[5] = 0.214203 * exp(log(abs($b - -3.9612)) * 1.02802) + $a * -0.0175298 + 8.84261;

		for ($i = 0; $i < 6; $i++) {
			$d1 = $d[$i];
			$d2 = $d[($i + 1) % 6];

			$a1 = $ang[$i];
			$a2 = $ang[($i + 1) % 6];

			if ($d1 ne "x" && $d2 ne "x") {
				$x1 = 306 * ($a + $d1 * cos($a1) * $sc) / 100 + 306;
				$y1 = 306 * ($b + $d1 * sin($a1) * $sc) / 100 + 306;

				$x2 = 306 * ($a + $d2 * cos($a2) * $sc) / 100 + 306;
				$y2 = 306 * ($b + $d2 * sin($a2) * $sc) / 100 + 306;

				print "$x1 $y1 moveto $x2 $y2 lineto stroke\n";
			}
		}
	}
}
